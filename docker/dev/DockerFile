# pulled from ubuntu
FROM node:12.18.2-alpine as base

RUN apk add tzdata

ENV TZ America/Sao_Paulo

MAINTAINER Leonardo Nobre <leonardo.nobre@agu.gov.br>

ENV NODE_OPTIONS=--max-old-space-size=8192

RUN npm config set unsafe-perm true

RUN npm install npm@latest -g

FROM base as dev

WORKDIR /app

EXPOSE 4200

ENTRYPOINT ["sh", "/app/docker/dev/docker-entrypoint.sh"]
