<div class="header p-16" fxLayout="row">
    <mat-icon [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
        search
    </mat-icon>
    <span [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}"
          *ngIf="this.mode === 'list'">Filtro</span>
</div>

<div class="content" cdkPerfectScrollbar>
    <mat-expansion-panel expanded="true">
        <mat-expansion-panel-header>
            <mat-panel-title>
                Dados Administrativos
            </mat-panel-title>
        </mat-expansion-panel-header>
            <form fxLayoutGap="16px" fxLayout="column" [formGroup]="form">
                <mat-form-field *showIfRole="'ROLE_USER'">
                    <mat-label>Número do Processo</mat-label>
                    <input matInput #NUP
                           name="NUP"
                           formControlName="NUP"
                           maxlength="255">
                    <mat-hint align="end">{{NUP.value.length}} / 255</mat-hint>
                </mat-form-field>
                <mat-form-field *showIfRole="'ROLE_CONVENIADO'">
                    <mat-label>Nome do Interessado</mat-label>
                    <input matInput #nome
                           name="nome"
                           formControlName="nome"
                           maxlength="255">
                    <mat-hint align="end">{{nome.value.length}} / 255</mat-hint>
                </mat-form-field>
                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>Nome do Interessado</mat-label>
                    <input matInput #nome
                           name="nome"
                           formControlName="nome"
                           maxlength="255">
                    <mat-hint align="end">{{nome.value.length}} / 255</mat-hint>
                </mat-form-field>
                <mat-form-field *showIfRole="'ROLE_CONVENIADO'">
                    <mat-label>CPF/CNPJ do Interessado</mat-label>
                    <input matInput #cpfCnpj
                           name="cpfCnpj"
                           formControlName="cpfCnpj"
                           maxlength="255">
                    <mat-hint align="end">{{cpfCnpj.value.length}} / 19</mat-hint>
                </mat-form-field>
                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>CPF/CNPJ do Interessado</mat-label>
                    <input matInput #cpfCnpj
                           name="cpfCnpj"
                           formControlName="cpfCnpj"
                           maxlength="255">
                    <mat-hint align="end">{{cpfCnpj.value.length}} / 19</mat-hint>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Setor Responsável"
                               formControlName="setorAtual"
                               [matAutocomplete]="setor.autocomplete">
                    </div>
                    <cdk-setor-autocomplete #setor="setorAutocomplete" [control]="form.get('setorAtual')">
                    </cdk-setor-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>Título</mat-label>
                    <input matInput #titulo
                           name="titulo"
                           formControlName="titulo"
                           maxlength="255">
                    <mat-hint align="end">{{titulo.value.length}} / 255</mat-hint>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>Descrição</mat-label>
                    <input matInput #descricao
                           name="descricao"
                           formControlName="descricao"
                           maxlength="255">
                    <mat-hint align="end">{{descricao.value.length}} / 255</mat-hint>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>Outro Número</mat-label>
                    <input matInput #outroNumero
                           name="outroNumero"
                           formControlName="outroNumero"
                           maxlength="255">
                    <mat-hint align="end">{{outroNumero.value.length}} / 255</mat-hint>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <mat-label>Valor Ecônomico</mat-label>
                    <input matInput #valorEconomico
                           name="valorEconomico"
                           formControlName="valorEconomico">
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Classificacao"
                               formControlName="classificacao"
                               [matAutocomplete]="classificacao.autocomplete">
                    </div>
                    <cdk-classificacao-autocomplete #classificacao="classificacaoAutocomplete"
                                                    [control]="form.get('classificacao')">
                    </cdk-classificacao-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Procedência"
                               formControlName="procedencia"
                               [matAutocomplete]="pessoa.autocomplete">
                    </div>
                    <cdk-pessoa-autocomplete #pessoa="pessoaAutocomplete" [control]="form.get('procedencia')">
                    </cdk-pessoa-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Localizador"
                               formControlName="localizador"
                               [matAutocomplete]="localizador.autocomplete">
                    </div>
                    <cdk-localizador-autocomplete #localizador="localizadorAutocomplete"
                                                  [control]="form.get('localizador')">
                    </cdk-localizador-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'" class="mr-sm-12">
                    <mat-label>Data da Abertura</mat-label>
                    <input matInput formControlName="dataHoraAbertura" [matDatetimepicker]="dataHoraAbertura">
                    <mat-datetimepicker-toggle matSuffix [for]="dataHoraAbertura"></mat-datetimepicker-toggle>
                    <mat-datetimepicker #dataHoraAbertura type="datetime" openOnFocus="true" timeInterval="5">
                    </mat-datetimepicker>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Modalidade da Fase"
                               formControlName="modalidadeFase"
                               [matAutocomplete]="modalidadeFase.autocomplete">
                    </div>
                    <cdk-modalidade-fase-autocomplete #modalidadeFase="modalidadeFaseAutocomplete"
                                                      [control]="form.get('modalidadeFase')">
                    </cdk-modalidade-fase-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Modalidade Meio"
                               formControlName="modalidadeMeio"
                               [matAutocomplete]="modalidadeMeio.autocomplete">
                    </div>
                    <cdk-modalidade-meio-autocomplete #modalidadeMeio="modalidadeMeioAutocomplete"
                                                      [control]="form.get('modalidadeMeio')">
                    </cdk-modalidade-meio-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'">
                    <div fxLayout="row" fxLayoutAlign="start center">
                        <input matInput placeholder="Espécie Processo"
                               formControlName="especieProcesso"
                               [matAutocomplete]="especieProcesso.autocomplete">
                    </div>
                    <cdk-especie-processo-autocomplete #especieProcesso="especieProcessoAutocomplete"
                                                       [control]="form.get('especieProcesso')">
                    </cdk-especie-processo-autocomplete>
                </mat-form-field>

                <mat-form-field *showIfRole="'ROLE_COLABORADOR'" class="mr-sm-12">
                    <mat-label>Criado Em</mat-label>
                    <input matInput formControlName="criadoEm" [matDatetimepicker]="criadoEm">
                    <mat-datetimepicker-toggle matSuffix [for]="criadoEm"></mat-datetimepicker-toggle>
                    <mat-datetimepicker #criadoEm type="datetime" openOnFocus="true" timeInterval="5"></mat-datetimepicker>
                </mat-form-field>
            </form>
    </mat-expansion-panel>

    <ng-template #dynamicComponent></ng-template>
</div>

<div class="p-16" fxFlex="0 1 auto" fxLayout="row" fxLayoutAlign="center center">
    <button mat-raised-button color="accent" class="mr-sm-12" (click)="buscar()">
        Buscar
    </button>

    <button mat-raised-button color="warn" class="mr-sm-12" (click)="limpar()">
        Limpar
    </button>
</div>
