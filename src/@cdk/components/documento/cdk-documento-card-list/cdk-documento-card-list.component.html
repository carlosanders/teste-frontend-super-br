<div class="toolbar pt-8 pb-8 pl-8 pr-8"
     fxLayout="row" fxLayoutAlign="start center" *ngIf="documentos.length > 0">

    <mat-checkbox (click)="toggleSelectAll($event)"
                  [checked]="selectedIds.length"
                  [indeterminate]="isIndeterminate"
                  *ngIf="documentos.length > 1">
    </mat-checkbox>

    <button mat-icon-button [matMenuTriggerFor]="moreMenu"
            aria-label="Ferramentas" (click)="$event.stopPropagation()"
            *ngIf="selectedIds?.length > 1">
        <mat-icon class="secondary-text">more_vert</mat-icon>
    </button>

    <mat-menu #moreMenu="matMenu">

        <button mat-menu-item aria-label="remover" *showIfRole="'ROLE_COLABORADOR'"
                (click)="doDeleteDocumentoBloco()">
            <ng-container>
                <mat-icon>delete</mat-icon>
                <span>Apagar Minutas</span>
            </ng-container>
        </button>

        <button mat-menu-item aria-label="assinar"
                (click)="doAssinaturaDocumentoBloco()">
            <ng-container>
                <mat-icon>lock</mat-icon>
                <span>Assinar</span>
            </ng-container>
        </button>

        <button mat-menu-item aria-label="remover assinatura"
                (click)="doRemoveAssinaturaDocumentoBloco()">
            <ng-container>
                <mat-icon>lock_open</mat-icon>
                <span>Remover Assinaturas</span>
            </ng-container>
        </button>

        <button mat-menu-item aria-label="editar tarefa" *showIfRole="'ROLE_COLABORADOR'"
                (click)="doConverteDocumentoBloco()">
            <ng-container>
                <mat-icon>picture_as_pdf</mat-icon>
                <span>Converter em PDF</span>
            </ng-container>
        </button>

    </mat-menu>

</div>

<cdk-documento-card class="ml-8 mb-8"
                           *ngFor="let documento of documentos"
                           [documento]="documento"
                           [selected]="selectedIds !== undefined && selectedIds.indexOf(documento.id) > -1"
                           [deleting]="deletingId !== undefined && deletingId.indexOf(documento.id) > -1"
                           [assinando]="assinandoId !== undefined && assinandoId.indexOf(documento.id) > -1"
                           [removendoAssinatura]="removendoAssinaturaId !== undefined && removendoAssinaturaId.indexOf(documento.id) > -1"
                           [convertendo]="convertendoId != undefined && convertendoId.indexOf(documento.id) > -1"
                           (delete)="doDelete($event)"
                           (verResposta)="doVerResposta($event)"
                           (assinatura)="doAssinatura($event)"
                           (removeAssinatura)="doRemoveAssinatura($event)"
                           (converte)="doConverte($event)"
                           (clicked)="onClick($event)"
                           (changedSelected)="toggleInSelected($event)">
</cdk-documento-card>
