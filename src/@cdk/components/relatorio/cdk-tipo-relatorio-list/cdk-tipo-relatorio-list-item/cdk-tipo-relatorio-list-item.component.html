<div fxLayout="row" [dndDraggable]="draggable.data" fxLayoutAlign="start center">

    <mat-checkbox class="mr-8" [checked]="selected" (change)="onSelectedChange()"
                  (click)="$event.stopPropagation();">
    </mat-checkbox>

    <div fxLayout="row" fxLayoutAlign="start center" fxFlex>

        <div class="info" fxFlex [ngClass]="{'nao-lido': !relatorio.dataHoraLeitura}">

<!--            <div class="title" fxLayout="row">-->
<!--                <mat-icon *ngIf="relatorio.processo?.acessoNegado" class="red-fg">block</mat-icon>-->
<!--                <mat-icon *ngIf="relatorio.processo?.documentoAvulsoOrigem">mail</mat-icon>-->
<!--                <span class="text-truncate">PROCESSO {{relatorio.processo?.NUP | formatNup}}</span>-->
<!--            </div>-->

            <div class="subtitle" *ngIf="!relatorio.processo?.acessoNegado">
                <span class="text-truncate">{{relatorio.processo?.modalidadeMeio?.valor }} {{relatorio.processo?.especieProcesso?.nome }}</span>
            </div>

<!--            <div class="subtitle" *ngIf="relatorio.processo?.acessoNegado">-->
<!--                <span class="text-truncate">Usuário com acesso negado ao processo</span>-->
<!--            </div>-->

<!--            <div class="subtitle" *ngIf="relatorio.processo?.documentoAvulsoOrigem">-->
<!--                <span *ngIf="!relatorio.processo?.documentoAvulsoOrigem?.dataHoraResposta" class="text-truncate">Ofício vinculado pendente de resposta</span>-->
<!--                <span *ngIf="relatorio.processo?.documentoAvulsoOrigem?.dataHoraResposta" class="text-truncate">Ofício vinculado respondido em {{relatorio.processo?.documentoAvulsoOrigem?.dataHoraResposta | date: 'dd/MM/yyyy H:mm'}}</span>-->
<!--            </div>-->

<!--            <div class="body mt-4">-->
<!--                <div>-->
<!--                    {{relatorio.especieRelatorio?.nome}}-->
<!--                </div>-->

<!--                <div>-->
<!--                    {{relatorio.setorResponsavel?.nome}} ({{relatorio.setorResponsavel?.unidade?.sigla}})-->
<!--                </div>-->

<!--                <div>-->
<!--                    {{relatorio.dataHoraInicioPrazo | date: 'dd/MM/yyyy'}}-->
<!--                    ATÉ {{relatorio.dataHoraFinalPrazo | date: 'dd/MM/yyyy'}}-->
<!--                </div>-->
<!--            </div>-->

<!--            <div class="etiquetas" fxLayout="row wrap" fxHide fxShow.gt-sm>-->
<!--                <div class="etiqueta" *ngFor="let vinculacaoEtiqueta of relatorio.vinculacoesEtiquetas"-->
<!--                     fxLayout="row" fxLayoutAlign="start center">-->
<!--                    <div class="etiqueta-color"-->
<!--                         [ngStyle]="{'background-color': (vinculacaoEtiqueta.etiqueta?.corHexadecimal)}"></div>-->
<!--                    <div class="etiqueta-title">{{vinculacaoEtiqueta.etiqueta?.nome}}</div>-->
<!--                </div>-->
<!--            </div>-->
        </div>

        <div class="actions" fxLayout="row" fxLayoutAlign="start center">

            <button mat-icon-button (click)="doToggleUrgente(); $event.stopPropagation();"
                    aria-label="Toggle important" fxHide.xs>
                <mat-icon class="red-fg" *ngIf="relatorio.urgente">error</mat-icon>
                <mat-icon class="secondary-text" *ngIf="!relatorio.urgente">error_outline</mat-icon>
            </button>

            <div class="spinner-container m-8" *ngIf="deletissng">
                <mat-spinner diameter="24"></mat-spinner>
            </div>

            <button *ngIf="!deleting" mat-icon-button [matMenuTriggerFor]="moreMenu" aria-label="Ferramentas"
                    (click)="$event.stopPropagation()">
                <mat-icon class="secondary-text">more_vert</mat-icon>
            </button>

            <mat-menu #moreMenu="matMenu">

                <button mat-menu-item aria-label="remover"
                        (click)="doDelete()">
                    <ng-container>
                        <mat-icon>delete</mat-icon>
                        <span>Remover</span>
                    </ng-container>
                </button>

<!--                <button mat-menu-item aria-label="movimentar"-->
<!--                        (click)="doMovimentar()">-->
<!--                    <ng-container>-->
<!--                        <mat-icon>send</mat-icon>-->
<!--                        <span>Movimentar</span>-->
<!--                    </ng-container>-->
<!--                </button>-->

                <button mat-menu-item aria-label="editar relatorio"
                        (click)="doEditRelatorio()">
                    <ng-container>
                        <mat-icon>edit</mat-icon>
                        <span>Editar Tipo Relatório</span>
                    </ng-container>
                </button>

                <button mat-menu-item aria-label="editar relatorio"
                        (click)="doEditRelatorio()">
                    <ng-container>
                        <mat-icon>edit</mat-icon>
                        <span>Controle de Acesso</span>
                    </ng-container>
                </button>

<!--                <button mat-menu-item aria-label="criar relatorio"-->
<!--                        (click)="doCreateRelatorio()">-->
<!--                    <ng-container>-->
<!--                        <mat-icon>check_box</mat-icon>-->
<!--                        <span>Criar Relatorio</span>-->
<!--                    </ng-container>-->
<!--                </button>-->

<!--                <button mat-menu-item aria-label="enviar ofício"-->
<!--                        (click)="doCreateDocumentoAvulso()">-->
<!--                    <ng-container>-->
<!--                        <mat-icon>mail</mat-icon>-->
<!--                        <span>Criar Ofício</span>-->
<!--                    </ng-container>-->
<!--                </button>-->

<!--                <button mat-menu-item aria-label="compartilhar"-->
<!--                        (click)="doCompartilhar()">-->
<!--                    <ng-container>-->
<!--                        <mat-icon>share</mat-icon>-->
<!--                        <span>Compartilhar</span>-->
<!--                    </ng-container>-->
<!--                </button>-->

            </mat-menu>
        </div>

    </div>
</div>