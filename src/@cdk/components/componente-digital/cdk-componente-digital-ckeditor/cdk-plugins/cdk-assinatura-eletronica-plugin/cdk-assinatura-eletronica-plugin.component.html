<h1 mat-dialog-title>Assinatura Eletrônica</h1>
<form class="p-24 mr-24" fxLayoutGap="16px"
      fxLayout="column"
      fxLayoutAlign="start"
      name="form" [formGroup]="form" (keyup.enter)="close()">
    <div fxFlex="1 0 auto" fxLayout="column">
        <mat-form-field fxFlex="100" [hidden]="form.get('certificadoDigital').value">
            <mat-label>Senha</mat-label>
            <input type="password"
                   matInput #plainPassword
                   name="plainPassword"
                   formControlName="plainPassword"
                   minlength="8"
                   maxlength="16">
            <mat-error [hidden]="!form.get('plainPassword').hasError('required')">Campo obrigatório!</mat-error>
            <mat-error [hidden]="!form.get('plainPassword').hasError('minlength')">Campo deve ter no mínimo 8 dígitos!
            </mat-error>
            <mat-error [hidden]="!form.get('plainPassword').hasError('maxlength')">Campo deve ter no máximo 16 dígitos!
            </mat-error>
        </mat-form-field>
        <mat-slide-toggle class="mt-16" formControlName="certificadoDigital">
            Usar Certificado Digital
        </mat-slide-toggle>
    </div>
    <div fxLayout="row" class="mr-sm-12 mt-16 mb-16" fxFlex
         fxLayoutAlign="center center">
        <button mat-raised-button color="accent" [disabled]="form.invalid" [mat-dialog-close]="{
                certificadoDigital: this.form.get('certificadoDigital').value,
                plainPassword: this.form.get('plainPassword').value
            }">Assinar</button>
        <button mat-raised-button class="warn ml-16" mat-dialog-close>Cancelar</button>
    </div>
</form>
