<div class="campo">
    <mat-form-field *ngIf="valid" [ngClass]="{'error': creating && etiquetaCtrl.hasError('addEtiqueta')}">
        <mat-placeholder class="placeholder">{{placeholder}}</mat-placeholder>
        <mat-chip-list #chipList>
            <mat-chip
                [ngStyle]="{'background-color': vinculacaoEtiqueta.etiqueta.corHexadecimal}"
                *ngFor="let vinculacaoEtiqueta of vinculacoesEtiquetas"
                [selectable]="selectable"
                [removable]="false === vinculacaoEtiqueta.etiqueta.sistema && vinculacaoEtiqueta.podeExcluir"
                matTooltip="Clique para editar o conteÃºdo"
                (click)="openDialogEdit(vinculacaoEtiqueta)"
                (removed)="remove(vinculacaoEtiqueta)">
                <mat-spinner *ngIf="savingVinculacaoEtiquetaId===vinculacaoEtiqueta.id" diameter="16"></mat-spinner>
                <mat-icon class="icon" *ngIf="savingVinculacaoEtiquetaId!==vinculacaoEtiqueta.id &&
                                            vinculacaoEtiqueta.privada">person</mat-icon>
                <mat-icon class="icon" *ngIf="savingVinculacaoEtiquetaId!==vinculacaoEtiqueta.id &&
                                            !vinculacaoEtiqueta.privada">public</mat-icon>
                <mat-icon *ngIf="vinculacaoEtiqueta.conteudo" class="icon">subject</mat-icon>
                {{vinculacaoEtiqueta.etiqueta.nome}}
                <mat-icon matChipRemove
                          *ngIf="false === vinculacaoEtiqueta.etiqueta.sistema && vinculacaoEtiqueta.podeExcluir">cancel
                </mat-icon>
            </mat-chip>
            <input #etiquetaInput
                   [formControl]="etiquetaCtrl"
                   [matAutocomplete]="etiqueta.autocomplete"
                   [matChipInputFor]="chipList"
                   [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                   [matChipInputAddOnBlur]="addOnBlur"
                   (matChipInputTokenEnd)="add($event)"
                   (focusin)="limpaErros()"
                   (keyup)="newEtiqueta()">

        </mat-chip-list>
        <cdk-etiqueta-autocomplete
            #etiqueta="etiquetaAutocomplete"
            [control]="etiquetaCtrl"
            [pagination]="pagination"
            (selected)="selected($event)">
        </cdk-etiqueta-autocomplete>
    </mat-form-field>

    <div class="actions" fxLayout="row" fxLayoutAlign="start center">
        <button mat-icon-button aria-label="Adicionar etiqueta" matTooltip="Adicionar etiqueta" class="accent"
                *ngIf="habilitarOpcaoBtnAddEtiqueta && showBtnAddEtiqueta" (click)="$event.stopPropagation(); sendEtiqueta()">
            <mat-icon>label</mat-icon>
        </button>
    </div>
</div>
<div class="add-etiqueta-error mat-error small" *ngIf="creating && etiquetaCtrl.hasError('addEtiqueta')">
    {{etiquetaCtrl.getError('addEtiqueta')}}
</div>
