<mat-horizontal-stepper linear *ngIf="!mobileMode">
    <mat-step>
        <ng-template matStepLabel class="secondary-text">Selecione as juntadas que ser찾o desentranhadas</ng-template>
        <cdk-juntada-grid-select [loading]="(loading$ | async)"
                                 [juntadas]="juntadas"
                                 (juntadasSelecionadas)="juntadasAdicionadas($event)"
                                 [total]="(pagination$ | async)?.total">
        </cdk-juntada-grid-select>
        <div>
            <button matStepperNext mat-raised-button color="accent" class="mr-sm-12"
                    [disabled]="juntadasSelecionadas.length===0">
                Pr처ximo
            </button>
        </div>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel class="secondary-text">Selecione o destino das juntada</ng-template>
        <div fxLayout="column">
            <mat-list *ngIf="operacoes.length > 0">
                <h3 matSubheader>
                    <span>Resultado do Bloco</span>
                </h3>
                <div *ngFor="let operacao of operacoes">
                    <p matLine class="mb-4 p-8 secondary-text"
                       [ngClass]="{'light-green-50': operacao.success, 'pink-50': !operacao.success}">{{operacao.content}}</p>
                </div>
            </mat-list>
            <cdk-desentranhamento-form [desentranhamento]="desentranhamento"
                                       [valid]="(juntadas$ | async)?.length > 0"
                                       [saving]="(isSaving$ | async)"
                                       (save)="submit($event)">
            </cdk-desentranhamento-form>
            <div>
                <button matStepperPrevious mat-raised-button color="accent" class="mr-sm-12">Retornar</button>
            </div>
        </div>
    </mat-step>
</mat-horizontal-stepper>

<mat-vertical-stepper linear *ngIf="mobileMode">
    <mat-step>
        <ng-template matStepLabel class="secondary-text">Selecione as juntadas que ser찾o desentranhadas</ng-template>
        <cdk-juntada-grid-select [loading]="(loading$ | async)"
                                 [juntadas]="juntadas"
                                 (juntadasSelecionadas)="juntadasAdicionadas($event)"
                                 [total]="(pagination$ | async)?.total">
        </cdk-juntada-grid-select>
        <div>
            <button matStepperNext mat-raised-button color="accent" class="mr-sm-12"
                    [disabled]="juntadasSelecionadas.length===0">
                Pr처ximo
            </button>
        </div>
    </mat-step>
    <mat-step>
        <ng-template matStepLabel class="secondary-text">Selecione o destino das juntada</ng-template>
        <div fxLayout="column">
            <mat-list *ngIf="operacoes.length > 0">
                <h3 matSubheader>
                    <span>Resultado do Bloco</span>
                </h3>
                <div *ngFor="let operacao of operacoes">
                    <p matLine class="mb-4 p-8 secondary-text"
                       [ngClass]="{'light-green-50': operacao.success, 'pink-50': !operacao.success}">{{operacao.content}}</p>
                </div>
            </mat-list>
            <cdk-desentranhamento-form [desentranhamento]="desentranhamento"
                                       [valid]="(juntadas$ | async)?.length > 0"
                                       [saving]="(isSaving$ | async)"
                                       (save)="submit($event)">
            </cdk-desentranhamento-form>
            <div>
                <button matStepperPrevious mat-raised-button color="accent" class="mr-sm-12">Retornar</button>
            </div>
        </div>
    </mat-step>
</mat-vertical-stepper>
