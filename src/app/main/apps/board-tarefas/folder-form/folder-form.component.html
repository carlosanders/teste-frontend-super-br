<div class="list new-folder mat-elevation-z1">

    <button *ngIf="!controls.formActive" mat-button class="new-folder-form-button" (click)="onClickOpenForm()">
        <div fxLayout="row" fxLayoutAlign="start center">
            <div *ngIf="controls.saving" class="loading mat-button">
                <mat-spinner diameter="24"></mat-spinner>
            </div>
            <mat-icon class="accent" *ngIf="!controls.saving">add</mat-icon>
            <span>Criar Pasta</span>
        </div>
    </button>

    <form *ngIf="controls.formActive && !controls.saving" class="new-folder-form" [formGroup]="controls.form"
          (ngSubmit)="onSubmit()" (keydown.enter)="onSubmit(); $event.preventDefault();"
          fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

        <input formControlName="nome" #inputNome fxFlex placeholder="Nome" [ngClass]="{'error': !!controls.errors}">

        <button mat-icon-button fxFlex="0 1 auto" type="submit">
            <mat-icon>check</mat-icon>
        </button>
        <button mat-icon-button fxFlex="0 1 auto" (click)="onClickClose()">
            <mat-icon>close</mat-icon>
        </button>
    </form>

    <div class="form-errors mat-error" *ngIf="controls.errors">
        {{ controls.errors }}
    </div>
</div>

